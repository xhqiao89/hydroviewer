{% extends base_name|add:"/base.html" %}
{% load tethys_gizmos %}
{% block import_gizmos %}
    {% import_gizmo_dependency plotly_view %}
{% endblock %}

{% block app_content %}
<div id="map" class="map"></div>
{% endblock %}

{% block header_buttons %}
  {% if zoom_info %}
  <div class="hidden" style="margin-right: 15px;">
    {% gizmo text_input zoom_info %}
  </div>
  {% endif %}
  {% if geoserver_endpoint %}
  <div class="hidden" style="margin-right: 15px;">
    {% gizmo text_input geoserver_endpoint %}
  </div>
  {% endif %}
  {% if model_input %}
    <div id="modelSelect" style="margin-right: 15px;">
      {% gizmo select_input model_input %}
    </div>
  {% endif %}

  <div class="header-button glyphicon-button" data-toggle="tooltip" data-placement="bottom" title="About">
    <a data-toggle="modal" data-target="#about"><span class="glyphicon glyphicon-info-sign"></span></a>
  </div>
{% endblock %}

{# Use the after_app_content block for modals #}
{% block after_app_content %}

<!-- About Modal -->
<div class="modal fade" id="about" tabindex="-1" role="dialog" aria-labelledby="about-modal-label">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h2 class="modal-title" id="about-modal-label">About HydroViewer</h2>
            </div>
            <div class="modal-body">
                <p id="overview"><b>
                    This web application was created to allow users to visualize streamflow prediction simulated from COSMO model products.
                </b></p>
                <h3>How it works</h3>
                <h6>1. Select the "COSMO-RAPID" model. The map will automatically zoom to Brazil.</h6>
                <h6>2. Click on any of the stream reaches within the watershed.</h6>
                <h6>3. A hydrograph for the selected reach with the most current streamflow result will be displayed
                    in the graph area next to the map.</h6>
                <h6>4. Click on any rive gage (red spot) within the watershed</h6>
                <h6>5. A hydrograph for the selected gage with discarge and water level observations will be displayed
                    in the graph area next to the map.</h6>
                <h6>6. If current datetime has no data available, the Select Date dropdown will be displayed on top of the graph.
                    Select any of the available dates to display the observation for that specific date in the graph.</h6>
                <h6>7. Click the close button to exit the application.</h6>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block app_actions %}

{% endblock %}